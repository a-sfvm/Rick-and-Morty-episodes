{"ast":null,"code":"import { GraphQLClient } from '../classes/GraphQLClient.js';\n/**\n * Send a batch of GraphQL Document to the GraphQL server for execution.\n *\n * @example\n *\n * ```ts\n * // You can pass a raw string\n *\n * await batchRequests('https://foo.bar/graphql', [\n * {\n *  query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * },\n * {\n *   query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * }])\n *\n * // You can also pass a GraphQL DocumentNode as query. Convenient if you\n * // are using graphql-tag package.\n *\n * import gql from 'graphql-tag'\n *\n * await batchRequests('https://foo.bar/graphql', [{ query: gql`...` }])\n * ```\n */\n\nexport const batchRequests = async function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  const params = parseBatchRequestsArgsExtended(args);\n  const client = new GraphQLClient(params.url);\n  return client.batchRequests(params);\n};\nexport const parseBatchRequestsArgsExtended = args => {\n  if (args.length === 1) {\n    return args[0];\n  } else {\n    return {\n      url: args[0],\n      documents: args[1],\n      requestHeaders: args[2],\n      signal: undefined\n    };\n  }\n};\nexport const parseBatchRequestArgs = (documentsOrOptions, requestHeaders) => {\n  // eslint-disable-next-line\n  return documentsOrOptions.documents ? documentsOrOptions : {\n    documents: documentsOrOptions,\n    requestHeaders: requestHeaders,\n    signal: undefined\n  };\n};","map":{"version":3,"mappings":"AAAA,SAASA,aAAT,QAA8B,6BAA9B;AAkBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAO,MAAMC,aAAa,GAAkB,kBAAqC;EAAA,kCAA3BC,IAA2B;IAA3BA,IAA2B;EAAA;;EAC/E,MAAMC,MAAM,GAAGC,8BAA8B,CAACF,IAAD,CAA7C;EACA,MAAMG,MAAM,GAAG,IAAIL,aAAJ,CAAkBG,MAAM,CAACG,GAAzB,CAAf;EACA,OAAOD,MAAM,CAACJ,aAAP,CAAqBE,MAArB,CAAP;AACD,CAJM;AAUP,OAAO,MAAMC,8BAA8B,GAAIF,IAAD,IAA0D;EACtG,IAAIA,IAAI,CAACK,MAAL,KAAgB,CAApB,EAAuB;IACrB,OAAOL,IAAI,CAAC,CAAD,CAAX;EACD,CAFD,MAEO;IACL,OAAO;MACLI,GAAG,EAAEJ,IAAI,CAAC,CAAD,CADJ;MAELM,SAAS,EAAEN,IAAI,CAAC,CAAD,CAFV;MAGLO,cAAc,EAAEP,IAAI,CAAC,CAAD,CAHf;MAILQ,MAAM,EAAEC;IAJH,CAAP;EAMD;AACF,CAXM;AAyBP,OAAO,MAAMC,qBAAqB,GAAG,CACnCC,kBADmC,EAEnCJ,cAFmC,KAGR;EAC3B;EACA,OAAQI,kBAA8C,CAACL,SAA/C,GACHK,kBADG,GAEJ;IACAL,SAAS,EAAEK,kBADX;IAEAJ,cAAc,EAAEA,cAFhB;IAGAC,MAAM,EAAEC;EAHR,CAFJ;AAOD,CAZM","names":["GraphQLClient","batchRequests","args","params","parseBatchRequestsArgsExtended","client","url","length","documents","requestHeaders","signal","undefined","parseBatchRequestArgs","documentsOrOptions"],"sources":["/Users/admin/code/language-finder/node_modules/graphql-request/src/legacy/functions/batchRequests.ts"],"sourcesContent":["import { GraphQLClient } from '../classes/GraphQLClient.js'\nimport type { RequestDocument, Variables } from '../helpers/types.js'\n\nexport type BatchRequestDocument<V extends Variables = Variables> = {\n  document: RequestDocument\n  variables?: V\n}\n\nexport interface BatchRequestsOptions<V extends Variables = Variables> {\n  documents: BatchRequestDocument<V>[]\n  requestHeaders?: HeadersInit\n  signal?: RequestInit['signal']\n}\n\nexport interface BatchRequestsExtendedOptions<V extends Variables = Variables> extends BatchRequestsOptions<V> {\n  url: string\n}\n\n/**\n * Send a batch of GraphQL Document to the GraphQL server for execution.\n *\n * @example\n *\n * ```ts\n * // You can pass a raw string\n *\n * await batchRequests('https://foo.bar/graphql', [\n * {\n *  query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * },\n * {\n *   query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * }])\n *\n * // You can also pass a GraphQL DocumentNode as query. Convenient if you\n * // are using graphql-tag package.\n *\n * import gql from 'graphql-tag'\n *\n * await batchRequests('https://foo.bar/graphql', [{ query: gql`...` }])\n * ```\n */\nexport const batchRequests: BatchRequests = async (...args: BatchRequestsArgs) => {\n  const params = parseBatchRequestsArgsExtended(args)\n  const client = new GraphQLClient(params.url)\n  return client.batchRequests(params)\n}\n\ntype BatchRequestsArgs =\n  | [url: string, documents: BatchRequestDocument[], requestHeaders?: HeadersInit]\n  | [options: BatchRequestsExtendedOptions]\n\nexport const parseBatchRequestsArgsExtended = (args: BatchRequestsArgs): BatchRequestsExtendedOptions => {\n  if (args.length === 1) {\n    return args[0]\n  } else {\n    return {\n      url: args[0],\n      documents: args[1],\n      requestHeaders: args[2],\n      signal: undefined,\n    }\n  }\n}\n\n// dprint-ignore\ninterface BatchRequests {\n  <T extends BatchResult, V extends Variables = Variables>(url: string, documents: BatchRequestDocument<V>[], requestHeaders?: HeadersInit): Promise<T>\n  <T extends BatchResult, V extends Variables = Variables>(options: BatchRequestsExtendedOptions<V>): Promise<T>\n}\n\nexport type BatchResult = [Result, ...Result[]]\n\ninterface Result<Data extends object = object> {\n  data: Data\n}\n\nexport const parseBatchRequestArgs = <V extends Variables = Variables>(\n  documentsOrOptions: BatchRequestDocument<V>[] | BatchRequestsOptions<V>,\n  requestHeaders?: HeadersInit,\n): BatchRequestsOptions<V> => {\n  // eslint-disable-next-line\n  return (documentsOrOptions as BatchRequestsOptions<V>).documents\n    ? (documentsOrOptions as BatchRequestsOptions<V>)\n    : {\n      documents: documentsOrOptions as BatchRequestDocument<V>[],\n      requestHeaders: requestHeaders,\n      signal: undefined,\n    }\n}\n"]},"metadata":{},"sourceType":"module"}